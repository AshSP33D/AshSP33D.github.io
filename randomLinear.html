
<!DOCTYPE html>
<style>
    @font-face {
        font-family:drumFont;
        src: url(drumFont.ttf);
    }

    body {
        font-family: drumFont;
        font-size: 120px;
        text-align: center;
    }

    .info {
        font-family: sans-serif;
        font-size: 20px;

</style>

<html>
    <head>
        <title>Randomly Generated Linear Sequences</title>
    </head>

    <body>
    	<p class="info">Refresh to randomise again!</p>
        <div id="mainSection">

        </div>

        <p class="info">Randomly Generated Linear Drum Sequences
        <br>Made by Ash (c) 2019</p>
    </body>
    
</html>

<script>
    var grooves = [["bcad",2],["bead",2],["bcae",2],["beac",2],["bdae",2],["bdac",2],["bcadae",3],["bcaead",3],["beadac",3],["beacad",3],["bdacae",3],["bdaeac",3],["bcadacac",4],["bcadacae",4],["bcadaeae",4],["bcacadae",4],["bcacaead",4],["bcaeacac",4],["bcaeacad",4],["bcadadae",4],["beacadae",4],["beadacad",4],["bdacaead",4],["bdaeacad",4],["bdaeadac",4]];

    function generateRandom() {
        return Math.floor(Math.random() * (grooves.length - 1));
    }

    var noteCount = 0;
    var randomNumber = generateRandom();
    var finalString = "";

    for (var i = 0; i < 10; i++) {
        var failedAttempts = 0;
        while (noteCount != 16) {
            if (noteCount + grooves[randomNumber][1] <= 16) {
                noteCount += grooves[randomNumber][1];
                finalString += grooves[randomNumber][0];
                randomNumber = generateRandom();
            }

            else {
                randomNumber = generateRandom();
                failedAttempts += 1;
            }

            if (failedAttempts > 20) {
                noteCount = 0;
                randomNumber = generateRandom();
                finalString = "";
                failedAttempts = 0;
            }
        }

        document.getElementById("mainSection").innerHTML += "<p>" + finalString + "b</p>";
        console.log(noteCount);
        noteCount = 0;
        randomNumber = generateRandom();
        finalString = "";
    }

</script>